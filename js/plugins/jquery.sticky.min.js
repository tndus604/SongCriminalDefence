!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var t=Array.prototype.slice,i=Array.prototype.splice,n={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"inherit"},r=e(window),s=e(document),o=[],a=r.height(),c=function(){for(var t=r.scrollTop(),i=s.height(),n=i-a,c=t>n?n-t:0,p=0,l=o.length;l>p;p++){var d=o[p],u=d.stickyWrapper.offset().top,f=u-d.topSpacing-c;if(d.stickyWrapper.css("height",d.stickyElement.outerHeight()),f>=t)null!==d.currentTop&&(d.stickyElement.css({width:"",position:"",top:"","z-index":""}),d.stickyElement.parent().removeClass(d.className),d.stickyElement.trigger("sticky-end",[d]),d.currentTop=null);else{var h=i-d.stickyElement.outerHeight()-d.topSpacing-d.bottomSpacing-t-c;if(0>h?h+=d.topSpacing:h=d.topSpacing,d.currentTop!==h){var g;d.getWidthFrom?(padding=d.stickyElement.innerWidth()-d.stickyElement.width(),g=e(d.getWidthFrom).width()-padding||null):d.widthFromWrapper&&(g=d.stickyWrapper.width()),null==g&&(g=d.stickyElement.width()),d.stickyElement.css("width",g).css("position","fixed").css("top",h).css("z-index",d.zIndex),d.stickyElement.parent().addClass(d.className),null===d.currentTop?d.stickyElement.trigger("sticky-start",[d]):d.stickyElement.trigger("sticky-update",[d]),d.currentTop===d.topSpacing&&d.currentTop>h||null===d.currentTop&&h<d.topSpacing?d.stickyElement.trigger("sticky-bottom-reached",[d]):null!==d.currentTop&&h===d.topSpacing&&d.currentTop<h&&d.stickyElement.trigger("sticky-bottom-unreached",[d]),d.currentTop=h}var m=d.stickyWrapper.parent(),y=d.stickyElement.offset().top+d.stickyElement.outerHeight()>=m.offset().top+m.outerHeight()&&d.stickyElement.offset().top<=d.topSpacing;y?d.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):d.stickyElement.css("position","fixed").css("top",h).css("bottom","").css("z-index",d.zIndex)}}},p=function(){a=r.height();for(var t=0,i=o.length;i>t;t++){var n=o[t],s=null;n.getWidthFrom?n.responsiveWidth&&(s=e(n.getWidthFrom).width()):n.widthFromWrapper&&(s=n.stickyWrapper.width()),null!=s&&n.stickyElement.css("width",s)}},l={init:function(t){return this.each(function(){var i=e.extend({},n,t),r=e(this),s=r.attr("id"),a=s?s+"-"+n.wrapperClassName:n.wrapperClassName,c=e("<div></div>").attr("id",a).addClass(i.wrapperClassName);r.wrapAll(function(){return 0==e(this).parent("#"+a).length?c:void 0});var p=r.parent();i.center&&p.css({width:r.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===r.css("float")&&r.css({"float":"none"}).parent().css({"float":"right"}),i.stickyElement=r,i.stickyWrapper=p,i.currentTop=null,o.push(i),l.setWrapperHeight(this),l.setupChangeListeners(this)})},setWrapperHeight:function(t){var i=e(t),n=i.parent();n&&n.css("height",i.outerHeight())},setupChangeListeners:function(e){if(window.MutationObserver){var t=new window.MutationObserver(function(t){(t[0].addedNodes.length||t[0].removedNodes.length)&&l.setWrapperHeight(e)});t.observe(e,{subtree:!0,childList:!0})}else window.addEventListener?(e.addEventListener("DOMNodeInserted",function(){l.setWrapperHeight(e)},!1),e.addEventListener("DOMNodeRemoved",function(){l.setWrapperHeight(e)},!1)):window.attachEvent&&(e.attachEvent("onDOMNodeInserted",function(){l.setWrapperHeight(e)}),e.attachEvent("onDOMNodeRemoved",function(){l.setWrapperHeight(e)}))},update:c,unstick:function(){return this.each(function(){for(var t=this,n=e(t),r=-1,s=o.length;s-->0;)o[s].stickyElement.get(0)===t&&(i.call(o,s,1),r=s);-1!==r&&(n.unwrap(),n.css({width:"",position:"",top:"","float":"","z-index":""}))})}};window.addEventListener?(window.addEventListener("scroll",c,!1),window.addEventListener("resize",p,!1)):window.attachEvent&&(window.attachEvent("onscroll",c),window.attachEvent("onresize",p)),e.fn.sticky=function(i){return l[i]?l[i].apply(this,t.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.sticky"):l.init.apply(this,arguments)},e.fn.unstick=function(i){return l[i]?l[i].apply(this,t.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.sticky"):l.unstick.apply(this,arguments)},e(function(){setTimeout(c,0)})});